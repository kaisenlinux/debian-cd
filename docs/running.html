<html>
<head>
<title>Running</title>
</head>
<body>
<h1>Running</h1>

<p>The build.sh and build_all.sh wrapper scripts are the easiest way
to make CDs, but they're not very complicated.</p>

<h2>build.sh</h2>

<p>This loads the configuration from CONF.sh, set some more default
configuration (in case it's not already set in CONF.sh), then
runs:</p>

<ul>

<li><code>make distclean</code> - clean up after a previous run

<li><code>make ${CODENAME}_status</code> - initialise the temp trees
and seed the default set of base packages needed for the specified
arch(es)

<li><code>make mirrorcheck</code> - grab metadata from the mirror,
used in generating jigdo files

<li><code>make $IMAGETARGET</code> - will be the same as <code>make
official_images</code> unless you've configured things
differently. This is the step that actually builds images; more
details later.

<li><code>make imagesums</code> - generate md5sums of the completed
images

</ul>

<h3>build.sh parameters</h3>

<p>the <strong>single</strong> argument that build.sh takes is the
architecture (or architectures) to build for. It will
<strong>only</strong> build one set of CDs; if you specify more than
one architecture as the parameter, the set will be multi-arch. Be
aware, that to pass multiple arches as one parameter you need to
specify them in quotes so the shell does not split them up, e.g.</p>

<p><code>build.sh "i386 amd64 powerpc"</code></p>

<h2>build_all.sh</h2>

<p>build_all.sh is <strong>very</strong> similar to build_all.sh
(deliberately). The only difference is that it will loop through a
list of architectures, running each in turn and outputting them to a
per-arch subdirectory in your output tree. That's all.</p>

<hr>
(c) Steve McIntyre &lt;steve@einval.com&gt;, December 2006. GPL v2<br>
<a href="setup.html">Prev - Setup</a><br>
<a href="makefile.html">Next - The Makefile, core control</a>
</body>
</html>
